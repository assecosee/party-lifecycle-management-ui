<div class="card-wrapper">
    <mat-card appearance="outlined" class="task-card">
        <mat-card-header class="task-header">
            <mat-card-title class="task-title flex-row-wrap">
                <span class="title-text">
                    {{task?.name | translate:locale.language}}
                </span>
            </mat-card-title>
        </mat-card-header>
        @if(formGroupInitialized){
        <mat-card-content>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-datepicker [control]="formGroup.controls['dateOfRegistration']"
                        (click)="markAsTouched('dateOfRegistration')" startView="month" appearance="outline"
                        [label]="'lblDateOfRegistration' | translate:locale.language" [max]="maxDate"></asee-datepicker>
                    <error-handling [control]="formGroup.controls['dateOfRegistration']"></error-handling>

                </div>
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['activityCode']"
                        [autocompleteList]="activityCodeList" [label]="'lblActivityCode' | translate:locale.language"
                        labelProperty="name" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('activityCode')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['activityCode']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-checkbox id="checkbox" [control]="formGroup.controls['alignmentWithApr']" color="primary"
                        [label]="'lblAlignmentWithApr' | translate:locale.language"></asee-checkbox>
                </div>
                <div class="flex-item">
                    <asee-text-input [control]="formGroup.controls['registrationNumber']" appearance="outline"
                        [label]="'lblRegistrationNumber' | translate:locale.language">
                    </asee-text-input>
                    <error-handling [control]="formGroup.controls['registrationNumber']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-autocomplete [readonly]="!registrationProcess" [control]="formGroup.controls['codeOfBranchPredominantActivity']"
                        [autocompleteList]="codeOfBranchPredominantActivityList" [label]="'lblCodeOfBranchPredominantActivity' | translate:locale.language"
                        labelProperty="description" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('codeOfBranchPredominantActivity')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['codeOfBranchPredominantActivity']"></error-handling>
                </div>
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['statusOfLegalEntity']"
                        [autocompleteList]="statusOfLegalEntityList" [label]="'lblStatusOfLegalEntity' | translate:locale.language"
                        labelProperty="description" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('statusOfLegalEntity')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['statusOfLegalEntity']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['sizeOfLegalEntity']"
                        [autocompleteList]="sizeOfLegalEntityList" [label]="'lblSizeOfLegalEntity' | translate:locale.language"
                        labelProperty="description" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('sizeOfLegalEntity')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['sizeOfLegalEntity']"></error-handling>
                </div>
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['typeOfProperty']"
                        [autocompleteList]="statusOfLegalEntityList" [label]="'lblTypeOfProperty' | translate:locale.language"
                        labelProperty="description" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('typeOfProperty')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['typeOfProperty']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-text-input [control]="formGroup.controls['bicCode']" appearance="outline"
                        [label]="'lblBicCode' | translate:locale.language">
                    </asee-text-input>
                    <error-handling [control]="formGroup.controls['bicCode']"></error-handling>
                </div>
                <div class="flex-item">
                    <asee-text-input [control]="formGroup.controls['emirLei']" appearance="outline"
                        [label]="'lblEmirLei' | translate:locale.language">
                    </asee-text-input>
                    <error-handling [control]="formGroup.controls['emirLei']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['naceCodeCustomer']"
                        [autocompleteList]="naceCodeList" [label]="'lblNaceCodeCustomer' | translate:locale.language"
                        labelProperty="name" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('naceCodeCustomer')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['naceCodeCustomer']"></error-handling>
                </div>
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['naceCodeRisk']"
                        [autocompleteList]="naceCodeList" [label]="'lblNaceCodeRisk' | translate:locale.language"
                        labelProperty="name" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('naceCodeRisk')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['naceCodeRisk']"></error-handling>
                </div>
            </div>
            <div class="flex-container pt">
                <div class="flex-item">
                    <asee-autocomplete [control]="formGroup.controls['crmIndCode']"
                        [autocompleteList]="crmIndCodeList" [label]="'lblCrmIndCode' | translate:locale.language"
                        labelProperty="description" valueProperty="name" appearance="outline"
                        (click)="markAsTouched('crmIndCode')"></asee-autocomplete>
                    <error-handling [control]="formGroup.controls['crmIndCode']"></error-handling>
                </div>
                <div class="flex-item"></div>
            </div>
            <customer-actions [currentTask]="task" submitButtonName="Complete" [formGroup]="formGroup">
            </customer-actions>
        </mat-card-content>
        }
    </mat-card>
</div>